# 视频编辑功能使用指南

## 简介

视频指令编辑是火山引擎提供的智能视频编辑服务，通过输入自然语言文本指令，即可对视频画面进行精准修改。支持元素替换、新增、删除等操作，实现视频的创意重构。

## 快速开始

### 第一步：准备视频

1. **视频要求**
   - 格式：建议 MP4
   - 大小：≤ 15MB
   - 分辨率：≤ 1080P
   - 帧率：≤ 30 FPS
   - 时长：建议 ≤ 10 秒

2. **上传方式**
   - 方式一：点击"上传视频"按钮，选择本地视频文件
   - 方式二：直接输入公网可访问的视频 URL

### 第二步：输入编辑指令

1. **指令编写原则**
   - 使用自然语言描述
   - 保持简洁明确（建议 ≤ 120 字符）
   - 单次编辑使用单一指令
   - 局部编辑时精准描述目标对象

2. **示例指令**
   - 风格转换：`"将此视频变成新海诚风格"`
   - 元素替换：`"将视频中的人物服装改为红色连衣裙"`
   - 场景修改：`"将视频背景从室内改为海滩场景"`
   - 对象移除：`"去除视频中的文字水印"`
   - 效果添加：`"给视频添加下雪效果"`

### 第三步：配置参数（可选）

1. **随机种子 (Seed)**
   - 默认值：-1（随机）
   - 设置相同种子可复现相同结果
   - 范围：-1 或任意正整数

2. **输出视频最大帧数 (Max Frame)**
   - 控制输出视频的最长时长
   - 默认值：121 帧（约 5 秒）
   - 可选项：
     - 49 帧（约 2 秒）
     - 73 帧（约 3 秒）
     - 97 帧（约 4 秒）
     - 121 帧（约 5 秒）- 推荐
     - 145 帧（约 6 秒）
     - 169 帧（约 7 秒）
     - 193 帧（约 8 秒）
     - 217 帧（约 9 秒）
     - 241 帧（约 10 秒）

### 第四步：提交任务

1. 点击"开始编辑"按钮
2. 系统会提交任务并返回任务 ID
3. 任务会自动添加到右侧"任务历史"列表

### 第五步：查看结果

1. **任务状态说明**
   - 🟡 排队中 (in_queue)：任务已提交，等待处理
   - 🔵 生成中 (generating)：任务正在处理
   - 🟢 已完成 (done)：任务处理完成，可以查看结果
   - ⚫ 未找到 (not_found)：任务不存在或已过期
   - 🔴 已过期 (expired)：任务已过期，需要重新提交

2. **查看详情**
   - 点击任务列表中的"查看详情"按钮
   - 在弹出的模态框中可以看到：
     - 任务 ID
     - 任务状态
     - 编辑指令
     - 输入视频链接
     - 参数设置
     - 创建和更新时间
     - 结果视频播放器（任务完成后）

3. **下载视频**
   - 任务完成后，在详情页面可以直接播放视频
   - 点击"下载视频"按钮保存到本地
   - ⚠️ 注意：结果视频链接有效期为 1 小时，建议及时下载

## 使用场景

### 1. 风格转换

**场景描述**：将普通视频转换为特定艺术风格

**示例操作**：
```
输入视频：街景视频
编辑指令：将此视频变成梵高油画风格
输出结果：油画风格的街景视频
```

**适用风格**：
- 新海诚动画风格
- 梵高油画风格
- 水彩画风格
- 复古电影风格
- 黑白电影风格

### 2. 元素替换

**场景描述**：替换视频中的特定元素

**示例操作**：
```
输入视频：人物视频
编辑指令：将人物的衣服改为蓝色西装
输出结果：人物穿蓝色西装的视频
```

**适用场景**：
- 服装变换
- 发型颜色修改
- 配饰更换
- 物品替换

### 3. 场景修改

**场景描述**：改变视频的背景或环境

**示例操作**：
```
输入视频：室内人物视频
编辑指令：将背景改为巴黎埃菲尔铁塔前
输出结果：人物站在埃菲尔铁塔前的视频
```

**适用场景**：
- 背景替换
- 天气变化
- 时间变换（白天/夜晚）
- 场景切换

### 4. 对象移除

**场景描述**：去除视频中不需要的元素

**示例操作**：
```
输入视频：带水印的视频
编辑指令：去除视频中的文字水印
输出结果：无水印的干净视频
```

**适用场景**：
- 水印去除
- 路人移除
- 杂物清理
- 瑕疵修复

### 5. 效果添加

**场景描述**：为视频添加特殊效果

**示例操作**：
```
输入视频：街道视频
编辑指令：给视频添加下雪的效果
输出结果：下雪中的街道视频
```

**适用场景**：
- 天气效果（雨、雪、雾）
- 光效添加
- 粒子效果
- 滤镜效果

## 高级技巧

### 1. 精准描述技巧

**不好的描述**：
```
"改变颜色"  # 太模糊，不知道改变什么的颜色
```

**好的描述**：
```
"将视频中左侧人物的红色外套改为蓝色"  # 明确指定对象和目标
```

### 2. 复杂编辑的拆分策略

**场景**：需要对视频进行多处修改

**策略**：
- 不推荐：一次性描述所有修改
- 推荐：分多次进行，每次一个指令
  1. 第一次：修改背景
  2. 第二次：使用第一次的输出，修改人物服装
  3. 第三次：使用第二次的输出，添加特效

### 3. 种子值的使用

**场景**：需要生成多个相似但略有不同的版本

**方法**：
1. 使用默认种子（-1）生成第一个版本
2. 如果效果满意，记录返回的种子值
3. 基于这个种子值微调参数生成相似版本

### 4. 时长控制技巧

**场景**：输入视频 15 秒，只想编辑前 5 秒

**方法**：
1. 预先剪辑视频到目标时长
2. 或者设置 max_frame 为 121（约 5 秒）
3. 系统会从首帧开始截取相应时长

## 常见问题

### Q1: 为什么上传视频失败？

**可能原因**：
1. 视频文件超过 15MB
2. 视频格式不支持
3. TOS 配置不正确
4. 网络连接问题

**解决方法**：
1. 压缩视频文件或剪辑到更短时长
2. 转换为 MP4 格式
3. 在"设置"页面检查 TOS 配置
4. 检查网络连接

### Q2: 为什么任务一直显示"排队中"？

**可能原因**：
1. 系统处理负载较高
2. 视频文件较大或时长较长
3. 编辑指令较复杂

**解决方法**：
1. 耐心等待，通常几分钟内会开始处理
2. 可以点击"刷新状态"按钮查看最新状态
3. 如果长时间无响应，可以重新提交任务

### Q3: 为什么编辑效果不理想？

**可能原因**：
1. 编辑指令描述不够精准
2. 输入视频质量较差
3. 编辑要求过于复杂

**解决方法**：
1. 优化编辑指令，使用更具体的描述
2. 使用高质量的输入视频
3. 将复杂的编辑拆分为多个简单步骤
4. 尝试不同的种子值

### Q4: 视频链接为什么打不开？

**可能原因**：
1. 视频 URL 已过期（1 小时有效期）
2. 网络访问限制
3. URL 格式错误

**解决方法**：
1. 任务完成后及时下载视频
2. 检查网络连接和防火墙设置
3. 重新查询任务获取最新链接

### Q5: 如何复现之前的编辑效果？

**方法**：
1. 在任务历史中找到之前的任务
2. 记录任务的所有参数（包括种子值）
3. 使用相同的参数重新提交任务
4. 注意：需要使用相同的种子值才能完全复现

## 最佳实践总结

### ✅ 推荐做法

1. **视频准备**
   - 使用 MP4 格式
   - 保持文件小于 15MB
   - 控制时长在 10 秒以内
   - 使用清晰的视频源

2. **指令编写**
   - 使用自然、简洁的语言
   - 一次编辑一个目标
   - 精准描述目标对象
   - 提供足够的上下文

3. **参数设置**
   - 首次尝试使用默认参数
   - 根据实际需求调整时长
   - 需要复现时记录种子值

4. **结果管理**
   - 及时下载完成的视频
   - 保存重要的任务参数
   - 定期清理过期任务

### ❌ 避免做法

1. **视频输入**
   - 避免使用过大的文件
   - 避免使用不支持的格式
   - 避免使用低质量视频
   - 避免使用过长的视频

2. **指令编写**
   - 避免模糊的描述
   - 避免一次多个指令
   - 避免过长的指令文本
   - 避免使用专业术语

3. **参数设置**
   - 避免随意修改参数
   - 避免设置过长的输出时长
   - 避免频繁切换种子值

## 费用说明

### 计费规则

- **单价**：0.65 元/秒
- **计费单位**：生成视频时长
- **免费额度**：200 秒
- **并发限额**：1

### 费用示例

```
示例 1：
输出视频时长：5 秒
费用：5 × 0.65 = 3.25 元

示例 2：
输出视频时长：10 秒
费用：10 × 0.65 = 6.5 元

示例 3（使用免费额度）：
已使用免费额度：150 秒
本次输出时长：60 秒
免费额度抵扣：50 秒
需要付费：10 秒
费用：10 × 0.65 = 6.5 元
```

### 节省费用技巧

1. 充分利用免费额度（200 秒）
2. 控制输出视频时长
3. 预先剪辑输入视频
4. 测试时使用较短的时长
5. 避免重复提交相同任务

## 技术支持

### 文档资源

- [API 接口文档](../api/视频指令编辑.md)
- [集成说明文档](../changelog/VIDEO_EDITOR_INTEGRATION.md)
- [火山引擎官方文档](https://www.volcengine.com/docs/6815/1285829)

### 常用链接

- [火山引擎控制台](https://console.volcengine.com/)
- [服务开通页面](https://console.volcengine.com/visual/)
- [API 密钥管理](https://console.volcengine.com/iam/keymanage/)

### 联系方式

如遇到技术问题，请：
1. 查看错误消息和日志
2. 参考常见问题部分
3. 查阅官方文档
4. 联系火山引擎技术支持

## 更新日志

- **2025-10-18**: 首次发布视频编辑功能
  - 支持文本指令编辑
  - 支持本地文件上传
  - 支持任务历史管理
  - 完整的 UI 界面

---

**提示**：本指南会持续更新，请关注最新版本以获取最新功能和最佳实践。

